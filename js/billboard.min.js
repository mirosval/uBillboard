/*

 uBillboard - Premium Slide for WordPress

 Version: 3.5.0

 Copyright: uDesignStudios (Miroslav Zoricak, Jan Keselak) 2011

*/
(function(b){function B(b){try{console.log(b)}catch(f){}}b.extend(jQuery.easing,{easeInOutQuad:function(b,f,z,k,j){return(f/=j/2)<1?k/2*f*f+z:-k/2*(--f*(f-2)-1)+z},easeInOutCirc:function(b,f,z,k,j){return(f/=j/2)<1?-k/2*(Math.sqrt(1-f*f)-1)+z:k/2*(Math.sqrt(1-(f-=2)*f)+1)+z}});b.fn.uBillboard=function(e){var f,z,k,j,o,x,A,m,C,i,q,l,t,p,r,n,v={init:function(a,d){f=b(this);z=b(".uds-bb-slides",f);e=b.extend(a,d);f.css("overflow","visible");f.add(z).css({maxWidth:e.width,maxHeight:e.height});q={};t=
!1;var c=g.preloadRequired();g.initSlides();g.initAnimationMarkup();var h=c;c&&(g.initPreloader(),h=g.preloadImages());g.initControls();b(".uds-bb-slides",f).live("click",function(){var a=i[l];if(typeof a.link==="string"&&a.link!==""&&a.link!=="#")a.linkTarget==="_blank"?window.open(a.link,"_blank"):window.location=a.link});g.initTouchSupport();h===!1&&(f.trigger("udsBillboardLoadingDidComplete"),g.loadingCompleted());f.bind("udsBillboardTransitionDidComplete",function(){});var s=parseInt(e.height,
10)/parseInt(e.width,10);b(window).resize(function(){f.add(x).add(k).add(j).css({width:"100%",height:"100%"});p=f.width();r=p*s;f.add(x).add(k).add(j).css({width:p+"px",height:r+"px"});b(".uds-center",f).each(function(){var a=b(this).outerWidth()/2,d=b(this).outerHeight()/2;b(this).css({top:r/2-d,left:p/2-a})});b(".uds-center-vertical",f).each(function(){var a=b(this).outerHeight()/2;b(this).css({top:r/2-a})});b(".uds-center-horizontal",f).each(function(){var a=b(this).outerWidth()/2;b(this).css({left:p/
2-a})});for(var a=0;a<i.length;a++)if(i[a].hasVideo)for(var d=b(".uds-bb-slide-"+a+">*",f),c=0;c<d.length;c++){var e=d.eq(c),h=b(e).attr("width")/b(e).attr("height"),g=b(e).attr("width"),l=b(e).attr("height");b(e).attr("height")>r?(l=r,g=l*h):b(e).attr("width")>p&&(g=p,l=g/h);e.css({position:"absolute",top:r/2-l/2,left:p/2-g/2,width:g,height:l,margin:"auto"})}}).resize()},animateSlide:function(a,d){if(a!==l)if(typeof d!=="boolean"&&(d=!0),i[a]===null)b.error("Slide ID "+a+" does not exist");else{f.trigger("udsBillboardSlideWillChange",
l);var c=i[a];i[l].hasVideo&&g.pauseVideo(i[l]);g.prepareForAnimation(a);g.handleEmbeddedContent(c);var h=0;if(d){var s="fade";if(c.transition!==null&&typeof c.transition==="string")s=c.transition;if(u[s]===null||typeof u[s]!=="object")B('Transition "'+s+'" is not defined'),s="fade";h=u[s].direction;u[s].direction=y[c.direction]===null||typeof y[c.direction]!=="object"?y[h]===null||typeof y[h]!=="object"?"right":h:c.direction;j.show().css("opacity",1);u[s].setup!==null&&typeof u[s].setup==="function"&&
u[s].setup(l,a);u[s].perform!==null&&typeof u[s].perform==="function"&&u[s].perform(l,a);h=1E3;if(u[s].duration!==null&&typeof u[s].duration==="number")h=u[s].duration}clearTimeout(q.transitionComplete);q.transitionComplete=setTimeout(function(){var d="default";typeof c.link==="string"&&c.link!==""&&c.link!=="#"&&(d="pointer");k.stop().css({top:"0px",left:"0px",opacity:1,cursor:d});b(".uds-bb-slide",k).hide();b(".uds-bb-slide-"+c.id,k).show();b(".uds-bb-description",k).show();j.stop().hide();c.autoplayVideo&&
e.pauseOnVideo&&g.playVideo(c);c.kenBurns&&g.kenBurns(c);f.trigger("udsBillboardTransitionDidComplete",a)},h);l=a;f.trigger("udsBillboardSlideDidChange",l);e.pauseOnVideo&&i[l].hasVideo?(m.hide(),clearTimeout(q.nextSlideAnimation)):(c.stop&&(t=!1),t?g.animateCountdown(i[l].delay):m!==null&&typeof m!=="undefined"&&m.hide(),e.autoplay&&t&&!c.stop&&v.play())}},next:function(){var a=g.getNextSlideId();v.animateSlide(a)},prev:function(){var a=g.getPrevSlideId();v.animateSlide(a)},random:function(){v.animateSlide(Math.floor(Math.random()*
i.length+1))},play:function(){if(typeof l!=="number"||l===null)l=0;q!==null&&q.nextSlideAnimation!==null&&clearTimeout(q.nextSlideAnimation);typeof m!=="undefined"&&m!==null&&m.show();t||g.animateCountdown(i[l].delay);clearTimeout(q.nextSlideAnimation);q.nextSlideAnimation=setTimeout(function(){v.next()},i[l].delay);t=!0;f.trigger("didChangePlayingState",{playing:t})},pause:function(){t=!1;f.trigger("didChangePlayingState",{playing:t});q.nextSlideAnimation!==null&&clearTimeout(q.nextSlideAnimation);
typeof m!=="undefined"&&m!==null&&m.hide()},playpause:function(){t?v.pause():v.play()}},g={initSlides:function(){var a={delay:5E3,hasVideo:!1,linkTarget:"",transition:"fade",direction:"",bg:"",bgColor:"transparent",repeat:"no-repeat",link:"",stop:!1,autoplayVideo:!0,kenBurns:!1,kenBurnsSpeed:4E3,html:""};i=[];b(".uds-bb-slide",f).each(function(d,c){var h=b.extend({},a,e.slides[d],{id:d,bg:b(".uds-bb-bg-image",c).remove().attr("src"),link:b(".uds-bb-link",c).remove().attr("href"),html:b(c).remove().html()});
$slide=b("<div class='uds-bb-slide-"+d+" uds-bb-slide'>");$slide.css({display:"none",maxWidth:e.width,maxHeight:e.height,width:"100%",height:"100%"}).css(g.getSlideBackgroundCSS(h)).html(h.html);h.cache=$slide;i.push(h)})},preloadRequired:function(){var a=!0;b(".uds-bb-bg-image",f).each(function(){var d=b(this).get(0);a=a&&d.complete});return!a},initPreloader:function(){f.append('<div class="uds-bb-preloader-wrapper"><div class="uds-bb-preloader"><div class="uds-bb-preloader-indicator"></div></div></div>');
C=b(".uds-bb-preloader-wrapper",f);var a=b(".uds-bb-preloader-indicator",C);b(".uds-bb-preloader",f).css({top:parseInt(e.height,10)/2-a.height()/2+"px",left:parseInt(e.width,10)/2-a.width()/2+"px"})},updatePreloader:function(a){var d=b(".uds-bb-preloader-indicator",C);d.stop().animate({left:"-"+Math.round((1-a)*d.width())+"px"},200);a>=1&&d.fadeOut("200",function(){C.remove()})},preloadImages:function(){for(var a=0,d=i.length,c=!1,h=0;h<d;h++)i[h].bg!==""&&(c=!0);if(!c)return g.updatePreloader(1),
f.trigger("udsBillboardLoadingDidComplete"),g.loadingCompleted(),!1;for(h=0;h<d;h++)i[h].bg===""?++a:b("<img>").data("slideID",h).load(function(){++a;g.updatePreloader(a/d);a===d&&(f.trigger("udsBillboardLoadingDidComplete"),g.loadingCompleted())}).error(function(){var c=b(this).data("slideID");B("Failed to load image: "+i[c].bg);++a;g.updatePreloader(a/d);a===d&&(f.trigger("udsBillboardLoadingDidComplete"),g.loadingCompleted());e.removeSlidesWithBrokenImages===!0&&i.splice(c,1)}).attr("src",i[h].bg);
return!0},loadingCompleted:function(){l=0;var a=i[l];g.getSlideBackgroundCSS(a);b(".uds-bb-slide-0",k).show().fadeTo(300,1);b(".uds-bb-description",k).show();g.handleEmbeddedContent(a);A.delay(300).fadeTo(300,1);a.kenBurns&&(g.prepareKenBurns(a),g.kenBurns(a));a=e.pauseOnVideo&&a.hasVideo;e.autoplay===!0&&!a?(g.animateCountdown(i[l].delay),v.play()):typeof m!=="undefined"&&m!==null&&m.hide()},initAnimationMarkup:function(){b(".uds-bb-slides",f).append("<div class='uds-stage'>").append("<div class='uds-next'>");
k=b(".uds-stage",f);j=b(".uds-next",f);j.hide();b(k).add(j).css({maxWidth:e.width,maxHeight:e.height,width:"100%",height:"100%",opacity:0});for(var a=parseInt(e.width,10),d=parseInt(e.height,10),c=parseInt(e.squareSize,10),a=Math.ceil(a/c),d=Math.ceil(d/c),c=0;c<d;c++)for(var h=0;h<a;h++)b("<div>",{"class":"uds-square uds-column-"+h+" uds-row-"+c+" uds-square-"+(h+a*c)}).data("position",{x:h,y:c}).append(b("<div>",{"class":"uds-square-inside"})).appendTo(j);g.resetAnimation();o=b(".uds-square",f);
x=b(".uds-square-inside",f);A=b(".uds-bb-controls",f);for(a=0;a<i.length;a++)d=i[a],k.append(d.cache.clone()),d.hasVideo||x.append(d.cache.clone());b(">div",k).add(">div",x).hide();g.createCountdown()},resetAnimation:function(){for(var a=parseInt(e.width,10),d=parseInt(e.height,10),c=parseInt(e.squareSize,10),h=Math.ceil(a/c),g=Math.ceil(d/c),i=0;i<g;i++)for(var l=0;l<h;l++)b(".uds-square-"+(l+h*i),f).css({width:c,height:c,top:i*c,left:l*c,opacity:1}).stop(!0,!0).find(".uds-square-inside").css({width:a,
height:d,top:-(i*c),left:-(l*c),opacity:1}).stop(!0,!0);k.css({opacity:1}).add(j).css({top:"0px",left:"0px"})},prepareForAnimation:function(a){var d=i[l],c=i[a];typeof d==="undefined"||d===null?B("Slide "+l+" does not exist! (Current Slide)"):typeof c==="undefined"||c===null?B("Slide "+a+" does not exist! (Next Slide)"):(b(".uds-bb-slide",k).hide(),b(".uds-bb-slide-"+d.id,k).show(),b(".uds-bb-description",k).show(),g.resetAnimation(),clearInterval(q.kenBurnsCanvasTimer),c.kenBurns&&g.prepareKenBurns(c),
c.hasVideo?(o.detach(),b(">.uds-bb-slide",j).remove(),j.append(b(">.uds-bb-slide-"+c.id,k).clone().show())):(b(">.uds-bb-slide",j).remove(),j.append(o),b(".uds-bb-slide",x).hide(),b(".uds-bb-slide-"+c.id,x).show(),b(".uds-bb-description",x).show(),b(".uds-bb-slide-"+c.id,x).css({width:p+"px",height:r+"px"})))},initControls:function(){A=b(".uds-bb-controls",f);A.show().css({maxWidth:e.width,maxHeight:e.height,width:"100%",height:"100%",opacity:0});b.browser.msie&&b.browser.version<8&&b(".uds-bb-paginator").css("position",
"static");var a=b(".uds-bb-playpause",f),d=b(".uds-bb-next",f),c=b(".uds-bb-prev",f),h=b(".uds-bb-paginator",f),g=b(".uds-bb-position-indicator-bullets",f),k=b(".uds-bb-thumbnails",f),j=b(".uds-bb-thumb",k),m=b(".uds-bb-thumbnail-container",k);a.click(v.playpause);d.click(v.next);c.click(v.prev);a.addClass("play");f.bind("didChangePlayingState",function(d,b){a.removeClass("play pause");b.playing?a.addClass("pause"):a.addClass("play")});b(".uds-bb-position-indicator",f).text("1/"+i.length);for(var p=
"",r=0;r<i.length;r++)p+="<div class='uds-bb-bullet'></div>";g.append(p).find("div:first").addClass("active");b("div",g).click(function(){v.animateSlide(b(this).index())});f.bind("udsBillboardSlideDidChange",function(){b(".uds-bb-position-indicator").text(l+1+"/"+i.length);b("div",g).removeClass("active").eq(l).addClass("active");j.css("background-color","").removeClass("active").eq(l).addClass("active").css("background-color",e.thumbnailHoverColor)});j.removeClass("active").eq(0).addClass("active");
j.click(function(){v.animateSlide(b(this).index())});k.is(".top,.bottom")&&m.css("width","10000px");f.has(".uds-bb-thumbnails.top:not(.inside)").css("margin-top",k.outerHeight());f.has(".uds-bb-thumbnails.bottom:not(.inside)").css("margin-bottom",k.outerHeight());f.has(".uds-bb-thumbnails.left:not(.inside)").css("margin-left",k.outerWidth());f.has(".uds-bb-thumbnails.right:not(.inside)").css("margin-right",k.outerWidth());j.each(function(a){var d=b("img",this);d.css({width:d.attr("width")+"px",height:d.attr("height")+
"px"});i[a].bg===""&&!i[a].hasVideo&&(d.replaceWith("<div>"),b("div",this).css({width:d.attr("width")+"px",height:d.attr("height")+"px",backgroundColor:i[a].bgColor}));b(this).is(".active")&&b(this).css("background-color",e.thumbnailHoverColor);var c={r:parseInt(e.thumbnailHoverColor.substr(1,2),16),g:parseInt(e.thumbnailHoverColor.substr(3,2),16),b:parseInt(e.thumbnailHoverColor.substr(5,2),16)};b(this).hover(function(){b(this).is(".active")?b(this).css("background-color",e.thumbnailHoverColor):
b(this).css("background-color","rgb(237,237,237)").stop().animate({opacity:1},{duration:200,step:function(a,d){var b=((new Date).getTime()-d.startTime)/d.options.duration;d.elem.style.backgroundColor="rgb("+(255-Math.round((237-c.r)*b))+","+(255-Math.round((237-c.g)*b))+","+(255-Math.round((237-c.b)*b))+")"}})},function(){b(this).is(".active")?b(this).css("background-color",e.thumbnailHoverColor):b(this).css("background-color",e.thumbnailHoverColor).stop().animate({opacity:1},{duration:200,step:function(a,
d){var b=((new Date).getTime()-d.startTime)/d.options.duration;d.elem.style.backgroundColor="rgb("+(c.r+Math.round((237-c.r)*b))+","+(c.g+Math.round((237-c.g)*b))+","+(c.b+Math.round((237-c.b)*b))+")"}})})});var n,o,u,t=0,x=k.is(".right,.left")?"vertical":"horizontal";x==="vertical"?(n=k.height(),p=(j.outerHeight(!0)-j.outerHeight())/2,o=j.length*j.outerHeight(!0)-(j.length-1)*p,u="top",m.css("height",o+"px")):(n=k.width(),o=j.length*j.outerWidth(!0),u="left",m.css("width",o+"px"));n>o&&(t=n/2-o/
2,m.css(u,t+"px"));var y=function(a){n=x==="vertical"?k.height():k.width();n>o&&(t=n/2-o/2);var d=0,b=0;a!==null&&typeof a!=="undefined"&&(d=x==="vertical"?a.pageY-k.offset().top:a.pageX-k.offset().left);b=d-n/2;b=b/(n/2)*5;if(b<0&&t>0||b>0&&t<o-n)t+=b;if((a===null||typeof a==="undefined")&&n>o)t=-(n/2-o/2);else if(n>o)return;m.css(u,-t+"px")};k.bind({"mouseenter mousemove":function(a){clearInterval(q.thumbMove);q.thumbMove=setInterval(function(){y(a)},10)},mouseleave:function(){clearInterval(q.thumbMove)}});
b(window).resize(function(){k.length!==0&&(clearInterval(q.thumbMove),y())});var w=b("");e.showControls==="hover"&&(w=w.add(d).add(c));e.showPause==="hover"&&(w=w.add(a));e.showPaginator==="hover"&&(w=w.add(g).add(b(".uds-bb-position-indicator",f)));e.showThumbnails==="hover"&&(w=w.add(k));e.showPaginator!==!0&&e.showPause!==!0&&e.showControls!==!0&&(w=w.add(h));h=b(".uds-bb-position-indicator-bullets-container",f);if(h.length>0&&(e.showPause==="hover"||e.showPaginator==="hover"))w=w.add(h);w.fadeTo(0,
0);f.hover(function(){w.stop().fadeTo(300,1)},function(){w.stop().fadeTo(300,0)});e.showControls===!1&&(d.hide(),c.hide());e.showPause===!1&&a.hide();e.showPaginator===!1&&(g.hide(),b(".uds-bb-position-indicator",f).hide());e.showThumbnails===!1&&k.hide();b(">*",h).not(":hidden").length===0&&h.hide()},initTouchSupport:function(){b(".uds-bb-slides").on("touchstart touchmove touchend",function(a){var d=a.originalEvent;d.type==="touchstart"&&(n={startX:d.touches[0].clientX,time:(new Date).getTime(),
absoluteStartTime:(new Date).getTime()},b(".uds-bb-slides",f).css("overflow","hidden"),clearTimeout(q.nextSlideAnimation),typeof m==="object"&&m.hide());if(d.type==="touchmove"){var c=d.touches[0].clientX-n.startX,e=d.touches[0].clientX-n.currentX;n.currentX=d.touches[0].clientX;var s=(new Date).getTime(),o=s-n.time;n.time=s;n.speed=e/(o/1E3);c>0?(n.direction=-1,e=g.getPrevSlideId()):(n.direction=1,e=g.getNextSlideId());n.slideId=e;i[l].hasVideo&&g.pauseVideo(i[l]);g.prepareForAnimation(e);g.handleEmbeddedContent(i[l]);
k.css("left",c+"px");n.left=c>0?-p+c:p+c;j.show().css({left:n.left+"px",opacity:1})}d.type==="touchend"&&(d=Math.abs(n.left)<p/2,c=Math.abs(n.speed)>100,e=(new Date).getTime()-n.absoluteStartTime<150,b(".uds-bb-slides",f).css("overflow","visoble"),(d||c)&&!e?(a.preventDefault(),k.animate({left:-n.direction*p},500),j.animate({left:0},{duration:500,complete:function(){v.animateSlide(n.slideId,!1)}})):(k.animate({left:0},500),j.animate({left:n.direction*p},500)))})},getNextSlideId:function(){var a=l+
1;return typeof i[a]==="undefined"?0:a},getPrevSlideId:function(){var a=l-1;return typeof i[a]==="undefined"?i.length-1:a},createCountdown:function(){if(e.showTimer!==!1)m=b('<div class="uds-bb-countdown"></div>').appendTo(A),(canvas=m.append('<canvas width="100" height="100">').find("canvas").get(0))&&typeof canvas.getContext==="function"?(ctx=canvas.getContext("2d"),ctx.lineWidth=3,ctx.strokeStyle="white",ctx.shadowOffsetX=0,ctx.shadowOffsetY=0,ctx.shadowBlur=2,ctx.shadowColor="black",m.data("context",
ctx)):(m.remove(),m=null)},animateCountdown:function(a){if(!(m===null||typeof m==="undefined"||e.showTimer===!1)){var d=m.data("context"),b=0;if(a!==!1){var h=(new Date).getTime();m.data("start",h);m.data("duration",a);clearInterval(q.countDown);q.countDown=setInterval(function(){g.animateCountdown(!1)},30)}else b=(new Date).getTime()-m.data("start"),a=m.data("duration");b/a>=1&&clearInterval(q.countDown);d.clearRect(0,0,100,100);d.beginPath();d.arc(50,50,20,-Math.PI/2,-Math.PI/2+2*Math.PI*(b/a),
!1);d.stroke()}},getSlideBackgroundCSS:function(a){return a.bg!==""?{backgroundColor:a.bgColor,backgroundImage:"url("+a.bg+")",backgroundRepeat:a.repeat}:{backgroundColor:a.bgColor,backgroundImage:"",backgroundRepeat:a.repeat}},handleEmbeddedContent:function(a){if(a.hasVideo&&a.embeddecContentHandled!==!0){var d=b(">.uds-bb-slide-"+a.id+">*",k);d.is("object")&&(d.prepend("<param name='wmode' value='opaque' />"),b("embed",d).attr("wmode","opaque"));d.css({position:"absolute",top:parseInt(e.height,
10)/2-d.attr("height")/2,left:parseInt(e.width,10)/2-d.attr("width")/2,margin:"auto"});a.embeddecContentHandled=!0}},playVideo:function(a){if(!(typeof window.postMessage!=="function"||typeof JSON==="undefined")){$slide=b(".uds-stage .uds-bb-slide-"+a.id,f);$iframe=b("iframe",$slide);for(a=0;a<b("iframe").length;a++)b("iframe").eq(a).get(0)===$iframe.get(0)&&(window.frames[a].postMessage(JSON.stringify({event:"command",func:"playVideo",args:null,id:$iframe.attr("id")}),"*"),window.frames[a].postMessage(JSON.stringify({method:"play"}),
"*"),b(window).on("message",function(a){a=a.originalEvent;a.origin==="http://www.youtube.com"&&(a=JSON.parse(a.data),a.event==="onStateChange"&&a.info.playerState===0&&v.play())}))}},pauseVideo:function(a){if(!(typeof window.postMessage!=="function"||typeof JSON==="undefined")){$slide=b(".uds-stage .uds-bb-slide-"+a.id,f);$iframe=b("iframe",$slide);for(a=0;a<b("iframe").length;a++)b("iframe").eq(a).get(0)===$iframe.get(0)&&(window.frames[a].postMessage(JSON.stringify({event:"command",func:"pauseVideo",
args:null,id:$iframe.attr("id")}),"*"),window.frames[a].postMessage(JSON.stringify({method:"pause"}),"*"))}},prepareKenBurns:function(a){if(!a.hasVideo){if(typeof a.kenBurnsImageCache==="undefined"){var d=b(".uds-bb-slide-"+a.id,f),c=new Image;a.kenBurnsImage=c;var h=b("<canvas>").css({position:"relative",width:p||e.width,height:r||e.height}).attr({width:p||e.width,height:r||e.height}).appendTo(d).get(0);if(typeof h.getContext==="function"){var g=h.getContext("2d");a.kenBurnsCanvasCache=g;a.kenBurnsImageCache=
!1;c.onLoad=function(){g.clearRect(0,0,p,r);g.drawImage(c,0,0)};c.src=a.bg.replace("-full.","-ken.")}else b(h).remove(),a.kenBurnsCanvasCache=!1,c.src=a.bg.replace("-full.","-ken."),b(c).addClass("uds-ken-burns"),d.css({overflow:"hidden"}).append(c),a.kenBurnsImageCache=b(".uds-bb-slide-"+a.id+" img.uds-ken-burns",f),a.kenBurnsImageCache.css({position:"relative",display:"block","-ms-interpolation-mode":"bicubic"})}a.kenBurnsCanvasCache?a.kenBurnsCanvasStartingCSS={top:0,left:0,width:p,height:r}:a.kenBurnsImageCache.css({top:0,
left:0,width:p,height:r})}},kenBurns:function(a){if(!(a.hasVideo||typeof a.kenBurnsImageCache==="undefined"&&typeof a.kenBurnsCanvasCache==="undefined"))if(a.kenBurnsCanvasCache){clearInterval(q.kenBurnsCanvasTimer);var b=new Date,c=g.kenBurnsCSS(!1);q.kenBurnsCanvasTimer=setInterval(function(){var e=((new Date).getTime()-b.getTime())/a.kenBurnsSpeed,f=a.kenBurnsCanvasStartingCSS;a.kenBurnsCanvasCache.clearRect(0,0,p,r);a.kenBurnsCanvasCache.drawImage(a.kenBurnsImage,(1-e)*f.left+e*c.left,(1-e)*f.top+
e*c.top,(1-e)*f.width+e*c.width,(1-e)*f.height+e*c.height);if(e>=1)b=new Date,a.kenBurnsCanvasStartingCSS=c,c=g.kenBurnsCSS(!1)},20)}else a.kenBurnsImageCache.eq(0).stop().animate(g.kenBurnsCSS(!0),{duration:a.kenBurnsSpeed,easing:"easeInOutQuad",complete:function(){a.id===l&&g.kenBurns(a)}})},kenBurnsCSS:function(a){var b=1.2-Math.random()*0.4,b={top:(-0.2+Math.random()*0.4)*r,left:(-0.2+Math.random()*0.4)*p,width:p*b,height:r*b},c=parseInt(e.height,10)/parseInt(e.width,10);if(b.top>0)b.top=0;if(b.left>
0)b.left=0;if(b.top+b.height<r)b.height=-b.top+r,b.width=b.height/c;if(b.left+b.width<p)b.width=-b.left+p,b.height=b.width*c;a&&(b.top+="px",b.left+="px",b.width+="px",b.height+="px");return b},pos:function(a){return Math.abs(parseInt(a,10))+"px"},neg:function(a){return"-"+Math.abs(parseInt(a,10))+"px"}},y={none:{delay:b.noop},intuitive:{delay:b.noop},intuitiveVertical:{delay:b.noop},left:{delay:function(){for(var a=Math.ceil(parseInt(e.width,10)/parseInt(e.squareSize,10)),d=0;d<a;d++)b(".uds-column-"+
d,f).delay(d*(600/a))}},right:{delay:function(){for(var a=Math.ceil(parseInt(e.width,10)/parseInt(e.squareSize,10)),d=0;d<a;d++)b(".uds-column-"+d,f).delay(600-d*(600/a))}},top:{delay:function(){for(var a=Math.ceil(parseInt(e.height,10)/parseInt(e.squareSize,10)),d=0;d<a;d++)b(".uds-row-"+d,f).delay(d*(600/a))}},bottom:{delay:function(){for(var a=Math.ceil(parseInt(e.height,10)/parseInt(e.squareSize,10)),d=0;d<a;d++)b(".uds-row-"+d,f).delay(600-d*(600/a))}},center:{delay:function(){for(var a=Math.ceil(parseInt(e.height,
10)/parseInt(e.squareSize,10)),d=Math.ceil(parseInt(e.width,10)/parseInt(e.squareSize,10)),c=0;c<d;c++)for(var h=0;h<a;h++){var f=Math.sqrt(Math.pow(c-d/2+0.5,2)+Math.pow(h-a/2+0.5,2))/Math.sqrt(Math.pow(d/2,2)+Math.pow(a/2,2));b(".uds-square-"+(h*d+c)).delay(700*f)}}},randomSquares:{delay:function(){o.each(function(){b(this).delay(Math.random()*700)})}},spiralIn:{delay:function(){for(var a=Math.ceil(parseInt(e.width,10)/parseInt(e.squareSize,10)),d=Math.ceil(parseInt(e.height,10)/parseInt(e.squareSize,
10)),c=0,h=a-1,f=0,g=d-1,k=0,i=0,j=0;k<a*d;)b(".uds-square-"+(a*j+i)).delay(1E3*(k/(a*d))),j===f&&i<h?i++:i===h&&j<g?j++:j===g&&i>c?i--:(j--,j===f&&(i++,j++,c++,h--,f++,g--)),k++}},spiralOut:{delay:function(){for(var a=Math.ceil(parseInt(e.width,10)/parseInt(e.squareSize,10)),d=Math.ceil(parseInt(e.height,10)/parseInt(e.squareSize,10)),c=0,h=a-1,f=0,g=d-1,k=0,i=0,j=0;k<a*d;)b(".uds-square-"+(a*j+i)).delay(1E3-1E3*(k/(a*d))),j===f&&i<h?i++:i===h&&j<g?j++:j===g&&i>c?i--:(j--,j===f&&(i++,j++,c++,h--,
f++,g--)),k++}},chess:{delay:function(){for(var a=Math.ceil(parseInt(e.height,10)/parseInt(e.squareSize,10)),d=Math.ceil(parseInt(e.width,10)/parseInt(e.squareSize,10)),c=0;c<d;c++)for(var h=0;h<a;h++){var f=h%2===0&&c%2===0||h%2===1&&c%2===1?0:1;b(".uds-square-"+(h*d+c)).delay(200*f)}}},zigzagHorizontal:{delay:function(){for(var a=Math.ceil(parseInt(e.height,10)/parseInt(e.squareSize,10)),d=Math.ceil(parseInt(e.width,10)/parseInt(e.squareSize,10)),c=0;c<d;c++)for(var h=0;h<a;h++){var f=(h*a+(h%2===
0?c:d-c))/(a*a+d/2);b(".uds-square-"+(h*d+c)).delay(700*f)}}},zigzagVertical:{delay:function(){for(var a=Math.ceil(parseInt(e.height,10)/parseInt(e.squareSize,10)),d=Math.ceil(parseInt(e.width,10)/parseInt(e.squareSize,10)),c=0;c<d;c++)for(var f=0;f<a;f++){var g=(c*d+(c%2===0?f:a-f))/(d*d+a/2);b(".uds-square-"+(f*d+c)).delay(700*g)}}}},u={none:{duration:0,direction:"",setup:function(){j.hide()},perform:b.noop()},fade:{duration:1500,direction:"",setup:function(){o.css({opacity:0})},perform:function(){y[this.direction].delay();
o.animate({opacity:1},{duration:500})}},crossFade:{duration:1E3,direction:"",setup:function(){o.css({opacity:0})},perform:function(){y[this.direction].delay();k.animate({opacity:0},{duration:1E3});o.animate({opacity:1},{duration:500})}},slide:{duration:700,direction:"right",setup:function(a,d){b(".uds-bb-slides",f).css({overflow:"hidden"});k.css({top:"0px",left:"0px"});var c=this.direction;if(c==="intuitive"||c==="intuitiveVertical")c=(a<d||d===0&&a===i.length-1)&&!(d===i.length-1&&a===0)?c==="intuitive"?
"right":"top":c==="intuitive"?"left":"bottom";if(c==="left")j.show().css({top:"0px",left:g.neg(e.width)});else if(c==="top")j.show().css({top:g.neg(e.height),left:"0px"});else if(c==="bottom")j.show().css({top:g.pos(e.height),left:"0px"});else if(c==="top")j.show().css({top:"0px",left:g.pos(e.width)});else if(c==="zigzagHorizontal"){parseInt(e.squareSize,10);var h=parseInt(e.height,10);o.each(function(){b(this).css({opacity:0,top:parseInt(b(this).css("top"),10)-h+"px"})});y[c].delay()}else if(this.direction===
"zigzagVertical"){parseInt(e.squareSize,10);var l=parseInt(e.width,10);o.each(function(){b(this).css({opacity:0,left:parseInt(b(this).css("left"),10)-l+"px"})});y[c].delay()}else j.show().css({top:"0px",left:g.pos(e.width)})},perform:function(a,d){var c={duration:700,easing:"easeInOutQuad"},f=this.direction;if(f==="intuitive"||f==="intuitiveVertical")f=(a<d||d===0&&a===i.length-1)&&!(d===i.length-1&&a===0)?f==="intuitive"?"right":"top":f==="intuitive"?"left":"bottom";if(f==="left")k.animate({left:g.pos(e.width)},
c),j.animate({left:"0px"},c);else if(f==="top")k.animate({top:g.pos(e.height)},c),j.animate({top:"0px"},c);else if(f==="bottom")k.animate({top:g.neg(e.height)},c),j.animate({top:"0px"},c);else if(f==="top")k.animate({left:g.neg(e.width)},c),j.animate({left:"0px"},c);else if(f==="zigzagHorizontal"){parseInt(e.squareSize,10);var l=parseInt(e.height,10);o.each(function(){b(this).animate({opacity:1,top:parseInt(b(this).css("top"),10)+l+"px"},c)})}else if(f==="zigzagVertical"){parseInt(e.squareSize,10);
var m=parseInt(e.width,10);o.each(function(){b(this).animate({opacity:1,left:parseInt(b(this).css("left"),10)+m+"px"},c)})}else k.animate({left:g.neg(e.width)},c),j.animate({left:"0px"},c)}},scale:{duration:1100,direction:"",setup:function(){var a,d,c;if(this.direction==="right")a=g.pos(parseInt(e.height,10)/2),d=g.pos(e.width);else if(this.direction==="left")a=g.pos(parseInt(e.height,10)/2),d="0px";else if(this.direction==="top")a="0px",d=g.pos(parseInt(e.width,10)/2);else if(this.direction==="bottom")a=
g.pos(e.height),d=g.pos(parseInt(e.width,10)/2);else if(this.direction==="center")a=g.pos(parseInt(e.height,10)/2),d=g.pos(parseInt(e.width,10)/2);else{this.direction==="zigzagHorizontal"?(c=parseInt(e.squareSize,10),o.each(function(){b(this).css({top:parseInt(b(this).css("top"),10)+c/2+"px",left:parseInt(b(this).css("left"),10)+c/2+"px",height:"0px"})})):this.direction==="zigzagVertical"?(c=parseInt(e.squareSize,10),o.each(function(){b(this).css({top:parseInt(b(this).css("top"),10)+c/2+"px",left:parseInt(b(this).css("left"),
10)+c/2+"px",width:"0px"})})):(c=parseInt(e.squareSize,10),o.each(function(){b(this).css({top:parseInt(b(this).css("top"),10)+c/2+"px",left:parseInt(b(this).css("left"),10)+c/2+"px",width:"0px",height:"0px"})}));y[this.direction].delay();return}j.css({top:a,left:d,width:"1px",height:"1px"})},perform:function(){if(b.inArray(this.direction,["center","top","left","bottom","right"])>-1)j.animate({top:"0px",left:"0px",width:e.width,height:e.height},{duration:1E3,easing:"easeInOutQuad"});else{var a=parseInt(e.squareSize,
10);o.each(function(d,c){b(this).animate({top:parseInt(b(c).css("top"),10)-a/2+"px",left:parseInt(b(c).css("left"),10)-a/2+"px",width:a+"px",height:a+"px"},500)})}}}},D={width:"960px",height:"400px",squareSize:"80px",autoplay:!0,showControls:!0,showPause:!0,showPaginator:!0,showThumbnails:!0,showTimer:!0,removeSlidesWithBrokenImages:!0};return this.each(function(){b(this);if(v[e])return v[e].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof e==="object"||!e)return v.init.apply(this,
[D,e]);else b.error("Method "+e+" does not exist on uBillboard")})}})(jQuery);